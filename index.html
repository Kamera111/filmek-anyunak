<!-- ========================================================= -->
<!-- == 1. R√âSZ: HTML, FEJL√âC, ALAP BE√ÅLL√çT√ÅSOK               == -->
<!-- ========================================================= -->
<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Filmek Anyunak</title>
  <style>
/* ========================================================= */
/* == 2. R√âSZ: ALAP CSS, ST√çLUSOK, MOBIL DIZ√ÅJN           == */
/* ========================================================= */

/* Alap h√°tt√©r, sz√≠n */
body {
  background: #11222a;
  color: #21e9fc;
  font-family: 'Segoe UI', Arial, sans-serif;
  font-size: 16px;
  margin: 0;
  min-height: 100vh;
}

/* F≈ëc√≠m */
h1, .main-title {
  color: #21e9fc;
  font-size: 2.1rem;
  margin: 32px 0 28px 0;
  text-align: center;
  font-weight: bold;
  text-shadow: 0 2px 12px #00101880;
}

/* ======== F≈ê GOMBOK ======== */
.menu-btn, .main-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.13rem;
  font-weight: bold;
  color: #27e9ff;
  background: #11242e;
  border: none;
  border-radius: 18px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.15);
  margin: 8px 6px;
  cursor: pointer;
  padding: 8px 0;
  width: 100%;
  max-width: 270px;
  min-height: 36px;
}

.menu-btn.selected, .main-btn.selected,
.menu-btn:active, .main-btn:active {
  background: #27e9ff;
  color: #11242e;
}

.menu-btn:focus, .main-btn:focus {
  outline: 2px solid #21e9fc;
}

/* Badge (√∫j filmek jelz√©s) */
.badge {
  background: #ee3232;
  color: #fff;
  font-weight: bold;
  font-size: 1rem;
  padding: 1px 7px;
  border-radius: 14px;
  margin-left: 10px;
  vertical-align: middle;
  display: inline-block;
}

/* ======== GRID ELRENDEZ√âS A F≈ê GOMBOKNAK ======== */
.menu-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
  margin: 0 auto 18px auto;
  max-width: 620px;
  padding: 0 12px;
}

/* Film lista overlay */
.film-list-overlay {
  position: fixed;
  z-index: 100;
  top: 0; left: 0; right: 0; bottom: 0;
  background: #000b;
  display: flex;
  align-items: center;
  justify-content: center;
}

.film-list-box {
  background: #182933;
  border-radius: 16px;
  padding: 20px 12px 14px 12px;
  min-width: 220px;
  max-width: 96vw;
  box-shadow: 0 4px 24px #000b;
  text-align: center;
}

.film-list-title {
  color: #21e9fc;
  font-size: 1.12rem;
  font-weight: bold;
  margin-bottom: 12px;
}

/* Film lista felsorol√°s */
.film-list {
  padding: 0;
  margin: 0;
  list-style: none;
  max-height: 340px;
  overflow-y: auto;
}
.film-list-item {
  margin: 0;
  border-bottom: 1px solid #202e38;
  padding: 7px 0;
}
.film-list-item:last-child { border-bottom: none; }
.film-list-item a {
  color: #27e9ff;
  text-decoration: none;
  font-size: 0.98rem;
  transition: color .2s;
}
.film-list-item a:hover {
  color: #21e9fc;
}

/* PIN/ADMIN/SZ√çN√âSZ OVERLAY-K ST√çLUSAI */
.pin-overlay, .admin-overlay, .actors-overlay {
  position: fixed;
  z-index: 200;
  top: 0; left: 0; right: 0; bottom: 0;
  background: #000d;
  display: flex;
  align-items: center;
  justify-content: center;
}

.pin-box, .admin-box, .actors-box {
  background: #fff;
  color: #222;
  border-radius: 22px;
  min-width: 160px;
  max-width: 98vw;
  padding: 14px 9px 10px 9px;
  box-shadow: 0 4px 24px #000c;
  text-align: center;
}
.pin-title, .admin-c√≠m, .actors-title {
  font-size: 1.13rem;
  color: #21e9fc;
  margin-bottom: 12px;
  font-weight: bold;
}
.pin-input, .admin-input {
  font-size: 1.09rem;
  padding: 7px 14px;
  border-radius: 12px;
  border: 2px solid #27e9ff;
  margin-bottom: 11px;
  width: 82%;
  outline: none;
  text-align: center;
}
.pin-input:focus, .admin-input:focus { border-color: #21e9fc; }

.actors-list-row {
  background: #11242e;
  border-radius: 14px;
  padding: 12px 5px;
  max-height: 200px;
  overflow-y: auto;
  min-width: 90px;
}
.actor-item {
  display: flex;
  align-items: center;
  border-bottom: 1px solid #223e4e;
  padding: 6px 0;
  cursor: pointer;
  font-size: 0.97rem;
  color: #21e9fc;
}
.actor-item:last-child { border-bottom: none; }
.actor-img {
  width: 26px; height: 26px;
  border-radius: 50%;
  background: #f0f8ff;
  margin-right: 8px;
  border: 1px solid #21e9fc;
  object-fit: cover;
}
.actor-name {
  color: #21e9fc;
  font-size: 0.98rem;
  font-weight: bold;
}
.actors-close-btn {
  background: #ee3232;
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 7px 18px;
  font-size: 1.07rem;
  margin-top: 9px;
  cursor: pointer;
  font-weight: bold;
  transition: background .13s;
}
.actors-close-btn:hover { background: #d62c2c; }
.exit-btn {
  background: #ee3232;
  color: #fff;
  border: none;
  border-radius: 14px;
  padding: 10px 0;
  font-size: 1.09rem;
  margin: 24px auto 11px auto;
  display: block;
  max-width: 340px;
  width: 90vw;
  cursor: pointer;
  font-weight: bold;
  transition: background .13s;
}
.exit-btn:hover { background: #d62c2c; }

/* Mobil diz√°jn */
@media (max-width: 600px) {
  h1, .main-title { font-size: 1.13rem; }
  .menu-btn, .main-btn { font-size: 1rem; padding: 10px 0; }
  .film-list-title { font-size: 0.91rem; }
  .exit-btn { font-size: 0.89rem; padding: 8px 0; }
  .film-list-box, .pin-box, .admin-box, .actors-box { min-width: 80px; }
}

/* ========== Sz√≠n√©szk√°rty√°k modern st√≠lus ========== */
.actors-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}
.actors-box {
  background: #fff;
  padding: 30px 16px;
  border-radius: 20px;
  max-width: 740px;
  width: 96vw;
  box-shadow: 0 4px 24px rgba(0,0,0,0.33);
  text-align: center;
}
.actors-title {
  font-size: 1.3rem;
  font-weight: bold;
  margin-bottom: 18px;
  color: #11222a;
  letter-spacing: 1px;
}
.actors-list-row {
  display: flex;
  flex-wrap: wrap;
  gap: 18px;
  justify-content: center;
  max-height: 58vh;
  overflow-y: auto;
  margin-bottom: 20px;
}
.actor-card {
  width: 110px;
  text-align: center;
  background: #f8fcff;
  border-radius: 16px;
  box-shadow: 0 2px 8px #bbb3;
  padding: 8px 5px 14px 5px;
  transition: transform .12s;
  cursor: pointer;
}
.actor-card:hover {
  transform: translateY(-5px) scale(1.04);
  box-shadow: 0 8px 22px #bdf1fc77;
  background: #e2f3fa;
}
.actor-card img {
  width: 74px;
  height: 74px;
  border-radius: 50%;
  object-fit: cover;
  background: #fff;
  box-shadow: 0 2px 8px rgba(0,0,0,0.12);
}
.actor-card span {
  display: block;
  margin-top: 8px;
  font-weight: bold;
  font-size: 1rem;
  color: #23708c;
  letter-spacing: .5px;
}
.actors-close-btn {
  background: #b3071b;
  color: #fff;
  font-size: 1rem;
  font-weight: bold;
  border: none;
  border-radius: 12px;
  padding: 10px 24px;
  cursor: pointer;
  box-shadow: 0 2px 9px #c14a7c33;
  margin: 0 auto 0 auto;
  display: block;
}
.actors-close-btn:hover { background: #930617; }
</style>
</head>
<body>
<!-- ========================================================= -->
<!-- == 3. R√âSZ: F≈ê GOMBOK, KATEG√ìRI√ÅK, KIL√âP√âS GOMB         == -->
<!-- ========================================================= -->
<h1>Filmek Anyunak</h1>
<div class="menu-grid">
  <button class="menu-btn" onclick="openCategory('krimi')" aria-label="Krimi kateg√≥ria">Krimi</button>
  <button class="menu-btn" onclick="openCategory('akcio')" aria-label="Akci√≥ kateg√≥ria">Akci√≥</button>
  <button class="menu-btn" onclick="openCategory('thriller')" aria-label="Thriller kateg√≥ria">Thriller</button>
  <button class="menu-btn" onclick="openCategory('kaland')" aria-label="Kaland kateg√≥ria">Kaland</button>
  <button class="menu-btn" onclick="openCategory('vigjatek')" aria-label="V√≠gj√°t√©k kateg√≥ria">V√≠gj√°t√©k</button>
  <button class="menu-btn" onclick="openCategory('sorozatok')" aria-label="Sorozatok kateg√≥ria">Sorozatok</button>
  <button class="menu-btn" onclick="openCategory('f')" aria-label="Admin (F) kateg√≥ria">F</button>
  <button class="menu-btn" onclick="openCategory('ujfilmek')" aria-label="√öj filmek kateg√≥ria">√öj filmek</button>
  <button class="menu-btn" onclick="openCategory('thrillertv')" aria-label="Thriller TV">Thriller TV</button>
  <button class="menu-btn" onclick="openCategory('topfilmek')" aria-label="Top Filmek">Top Filmek</button>
  <button class="menu-btn" onclick="openCategory('akciotv')" aria-label="Akci√≥ TV">Akci√≥ TV</button>
  <button class="menu-btn" onclick="openCategory('vigjatektv')" aria-label="V√≠gj√°t√©k TV">V√≠gj√°t√©k TV</button>
  <button class="menu-btn" onclick="openCategory('beszelgetes')" aria-label="Besz√©lget√©s">Besz√©lget√©s</button>
  <button class="menu-btn" onclick="openActorsList()" aria-label="Sz√≠n√©szek szerint">Sz√≠n√©szek szerint</button>
</div>
<button class="exit-btn" onclick="logout()" aria-label="Kil√©p√©s mindenb≈ël">Kil√©p√©s mindenb≈ël</button>
<!-- ========================================================= -->
<!-- == 4. R√âSZ: PIN OVERLAY                                 == -->
<!-- ========================================================= -->
<div id="pinOverlay" class="pin-overlay" style="display:none;">
  <div class="pin-box">
    <div class="pin-title">√çrd be a PIN-k√≥dot a bel√©p√©shez</div>
    <label for="pinInput" style="position:absolute; left:-9999px;">PIN-k√≥d bevitel</label>
    <input
      id="pinInput"
      class="pin-input"
      type="password"
      maxlength="8"
      autocomplete="off"
      autofocus
      aria-label="PIN-k√≥d bevitel"
      onkeydown="if(event.key==='Enter'){validatePin();}"
    >
    <div id="pinError" class="pin-error" role="alert"></div>
    <button type="button" class="exit-btn" onclick="hidePinOverlay()" style="margin-top:18px;">Kil√©p√©s</button>
  </div>
</div>
<!-- ========================================================= -->
<!-- == 5. R√âSZ: FILMLISTA MODAL OVERLAY                      == -->
<!-- ========================================================= -->
<div id="filmListOverlay" class="film-list-overlay" style="display:none;">
  <div class="film-list-box">
    <h2 id="filmListTitle" class="film-list-title"></h2>
    <div id="filmListBody" class="film-list"></div>
    <button class="film-list-close" onclick="closeFilmList()" aria-label="Bez√°r√°s">Bez√°r√°s</button>
  </div>
</div>
<!-- ========================================================= -->
<!-- == 6. R√âSZ: SZ√çN√âSZEK OVERLAY, K√âPEK (K√ÅRTYA ST√çLUS)    == -->
<!-- ========================================================= -->
<div id="actorsOverlay" class="actors-overlay" style="display:none;">
  <div class="actors-box">
    <div class="actors-title">Sz√≠n√©szek szerint</div>
    <div class="actors-list-row" id="actorsList"></div>
    <button class="actors-close-btn" onclick="closeActorsList()" aria-label="Sz√≠n√©szek list√°j√°nak bez√°r√°sa">Bez√°r√°s</button>
  </div>
</div>
<!-- ========================================================= -->
<!-- == 7. R√âSZ: ADMIN FELT√ñLT≈ê OVERLAY + FUNKCI√ìK           == -->
<!-- ========================================================= -->

<!-- ======= HTML ======= -->
<div id="adminOverlay" class="pin-overlay" style="display:none;">
  <div class="pin-box">
    <div class="pin-title">Admin PIN a felt√∂lt√©shez</div>
    <input id="adminPinInput" class="pin-input" type="password" maxlength="8" autocomplete="off" placeholder="Admin PIN">
    <button onclick="checkAdminPin()" style="margin:14px 0 6px 0;padding:8px 30px;border-radius:12px;background:#24eaff;color:#222;border:none;font-weight:bold;font-size:1.17rem;cursor:pointer;">Bel√©p√©s</button>
    <div id="adminPinError" class="pin-error"></div>
    <div id="adminUploadSection" style="margin-top:30px;display:none;">
      <select id="uploadCategory" style="padding:6px;font-size:1rem;margin-bottom:14px;">
        <option value="krimi">Krimi</option>
        <option value="akcio">Akci√≥</option>
        <option value="thriller">Thriller</option>
        <option value="kaland">Kaland</option>
        <option value="vigjatek">V√≠gj√°t√©k</option>
        <option value="sorozatok">Sorozatok</option>
        <option value="ujfilmek">√öj filmek</option>
        <option value="thrillertv">Thriller TV</option>
        <option value="topfilmek">Top Filmek</option>
        <option value="akciotv">Akci√≥ TV</option>
        <option value="vigjatektv">V√≠gj√°t√©k TV</option>
      </select>
      <input id="uploadFilmTitle" style="padding:7px;font-size:1rem;" placeholder="Film c√≠me"><br>
      <input id="uploadFilmUrl" style="padding:7px;font-size:1rem;margin-top:10px;" placeholder="YouTube/Videa link"><br>
      <button onclick="uploadFilm()" style="margin:13px 0 0 0;padding:8px 30px;border-radius:12px;background:#24eaff;color:#222;border:none;font-weight:bold;font-size:1.17rem;cursor:pointer;">Ment√©s</button>
      <div id="uploadSuccess" style="margin-top:18px;color:#0c9b00;font-size:1rem;"></div>
    </div>
  </div>
</div>

<!-- ======= CSS (tedd a 2. r√©sz v√©g√©re, ha m√©g nincs!) ======= -->
<style>
#adminOverlay { z-index: 300; }
#adminUploadSection select,
#adminUploadSection input {
  border: 1.7px solid #21e9fc;
  border-radius: 10px;
  margin-bottom: 7px;
  width: 92%;
  outline: none;
}
#adminUploadSection input:focus,
#adminUploadSection select:focus {
  border-color: #24eaff;
  background: #f2fcff;
}
#adminUploadSection button {
  transition: background 0.18s;
}
#adminUploadSection button:hover {
  background: #1dc0cc;
}
</style>

<!-- ======= JAVASCRIPT (a f≈ë <script> blokkba, pl. az oldal v√©g√©re!) ======= -->
<script>
// =========================================================
// == ADMIN FELT√ñLT≈ê OVERLAY FUNKCI√ìK                      ==
// =========================================================

// 1. Admin PIN valid√°ci√≥ √©s felt√∂lt≈ë szekci√≥ nyit√°sa
function checkAdminPin() {
  const correctPin = "2014"; // Itt √°ll√≠tsd be az admin PIN-t!
  const input = document.getElementById("adminPinInput").value;
  const errorDiv = document.getElementById("adminPinError");
  const uploadSection = document.getElementById("adminUploadSection");

  if (input === "") {
    errorDiv.textContent = "K√©rlek, add meg a PIN k√≥dot!";
    errorDiv.style.color = "#b3071b";
    uploadSection.style.display = "none";
    return;
  }

  if (input === correctPin) {
    errorDiv.textContent = "";
    uploadSection.style.display = "block";
    setTimeout(() => document.getElementById("uploadFilmTitle").focus(), 50);
  } else {
    errorDiv.textContent = "Hib√°s PIN k√≥d!";
    errorDiv.style.color = "#b3071b";
    uploadSection.style.display = "none";
    // Anim√°lt hiba: villog√°s
    errorDiv.animate([
      { color: "#b3071b" },
      { color: "#fff" },
      { color: "#b3071b" }
    ], { duration: 400, iterations: 2 });
  }
}

// 2. Film felt√∂lt√©s kezel√©se
function uploadFilm() {
  const category = document.getElementById("uploadCategory").value;
  const title = document.getElementById("uploadFilmTitle").value.trim();
  const url = document.getElementById("uploadFilmUrl").value.trim();
  const successDiv = document.getElementById("uploadSuccess");

  if (!title || !url) {
    successDiv.style.color = "#b3071b";
    successDiv.textContent = "K√©rlek, t√∂ltsd ki a film c√≠m√©t √©s linkj√©t!";
    return;
  }

  // Helyi t√°rol√°sba ment√©s (localStorage)
  let key = "cat_" + category;
  let films = [];
  try {
    films = JSON.parse(localStorage.getItem(key)) || [];
  } catch {}
  films.unshift({ title: title, url: url, uj: true }); // √∫jk√©nt jel√∂l√©s
  localStorage.setItem(key, JSON.stringify(films));
  successDiv.style.color = "#0c9b00";
  successDiv.textContent = `Sikeresen mentve: "${title}" (${category})`;

  // Mez≈ëk t√∂rl√©se
  document.getElementById("uploadFilmTitle").value = "";
  document.getElementById("uploadFilmUrl").value = "";

  // Gombon jelz√©s, hogy van √∫j (badge friss√≠t√©s)
  if (typeof setBadge === 'function') setBadge(category, films.filter(f=>f.uj).length);
}
</script>
<!-- ========================================================= -->
<!-- == 8. R√âSZ: JAVASCRIPT ‚Äì MINDEN FUNKCI√ì, SZ√ÅMOZVA!      == -->
<!-- ========================================================= -->
<script>
  // ==== 8.1 PIN BEL√âP√âS ====
  const USER_PIN = "1954";
  const ADMIN_PIN = "2014";
  function showPinOverlay() {
    document.getElementById("pinOverlay").style.display = "";
    document.getElementById("pinInput").value = "";
    document.getElementById("pinError").textContent = "";
    setTimeout(() => document.getElementById("pinInput").focus(), 200);
  }
  function hidePinOverlay() { document.getElementById("pinOverlay").style.display = "none"; }
  function checkPin() {
    const pin = document.getElementById("pinInput").value.trim();
    if (pin === USER_PIN) {
      hidePinOverlay();
      localStorage.setItem("filmek_anyunak_access", "1");
    } else {
      document.getElementById("pinError").textContent = "Hib√°s PIN!";
    }
  }
  // FONTOS: csak akkor addListener, ha m√°r l√©tezik az elem
  document.addEventListener('DOMContentLoaded', function() {
    let pinInput = document.getElementById("pinInput");
    if (pinInput) {
      pinInput.addEventListener("keyup", function(e){
        if (e.key === "Enter") checkPin();
        else document.getElementById("pinError").textContent = "";
      });
    }
    let adminPinInput = document.getElementById("adminPinInput");
    if (adminPinInput) {
      adminPinInput.addEventListener("keyup", function(e){
        if (e.key === "Enter") checkAdminPin();
        else document.getElementById("adminPinError").textContent = "";
      });
    }
  });
  function logout() {
    localStorage.removeItem("filmek_anyunak_access");
    location.reload();
  }

  // ==== 8.2 KATEG√ìRI√ÅK, FILMLISTA ====
  const titleMap = {
    krimi: "Krimi filmek",
    akcio: "Akci√≥ filmek",
    thriller: "Thriller filmek",
    kaland: "Kaland filmek",
    vigjatek: "V√≠gj√°t√©kok",
    sorozatok: "Sorozatok",
    ujfilmek: "√öj filmek",
    thrillertv: "Thriller TV",
    topfilmek: "Top Filmek",
    akciotv: "Akci√≥ TV",
    vigjatektv: "V√≠gj√°t√©k TV",
    beszelgetes: "Besz√©lget√©s",
    f: "Admin felt√∂lt√©sek"
  };

  function openCategory(cat) {
    if (!localStorage.getItem("filmek_anyunak_access")) { showPinOverlay(); return; }
    if (cat === "beszelgetes") {
      showFilmList("Besz√©lget√©s", [ {title: "ChatGPT", url: "https://chat.openai.com/", uj: false} ]);
      return;
    }
    let stored = localStorage.getItem("cat_"+cat) || "[]";
    let list = JSON.parse(stored);

    // ABC sorrend
    list.sort((a, b) => a.title.localeCompare(b.title));

    showFilmList(titleMap[cat] || cat, list);

    // jel√∂lj√ºk az √∂sszes "√∫j" st√°tuszt n√©zettnek
    list.forEach(f => f.uj = false);
    localStorage.setItem("cat_" + cat, JSON.stringify(list));
  }

  function showFilmList(title, list) {
    document.getElementById("filmListOverlay").style.display = "";
    document.getElementById("filmListTitle").textContent = title;
    let html = "";
    if (!list.length) {
      html = `<div>Nincs felt√∂lt√∂tt film ebben a kateg√≥ri√°ban.</div>`;
    } else {
      html = '<ul class="film-list">';
      list.forEach((film, idx) => {
        html += `
          <li class="film-list-item${film.uj ? ' uj-film' : ''}">
            <a href="${film.url}" target="_blank">${film.title}${film.uj ? ' <span style="color:#d00;font-size:1.2em;">üî•</span>' : ''}</a>
          </li>
        `;
      });
      html += "</ul>";
    }
    document.getElementById("filmListBody").innerHTML = html;
  }
  function closeFilmList() {
    document.getElementById("filmListOverlay").style.display = "none";
    document.getElementById("filmListBody").innerHTML = "";
  }

  // ==== 8.3 SZ√çN√âSZEK LISTA, K√âPEK ====
  const actorsData = [
    // ... (itt legyen a sz√≠n√©szek t√∂mb, ahogy eddig is)
    { name: "Jason Statham", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Jason_Statham_2018.jpg/320px-Jason_Statham_2018.jpg" },
    { name: "Sylvester Stallone", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/Sylvester_Stallone_Cannes_2019.jpg/320px-Sylvester_Stallone_Cannes_2019.jpg" },
    // stb...
  ];
  actorsData.sort((a, b) => a.name.localeCompare(b.name));
  function openActorsList() {
    if (!localStorage.getItem("filmek_anyunak_access")) { showPinOverlay(); return; }
    document.getElementById("actorsOverlay").style.display = "flex";
    let html = "";
    actorsData.forEach((a, i) => {
      html += `
        <div class="actor-item" onclick="showActorFilms('${a.name.replace(/'/g,"\\'")}')">
          <img class="actor-img" src="${a.img}" alt="${a.name}">
          <div class="actor-name">${a.name}</div>
        </div>
      `;
    });
    document.getElementById("actorsList").innerHTML = html;
  }
  function closeActorsList() {
    document.getElementById("actorsOverlay").style.display = "none";
  }
  function showActorFilms(actor) {
    const films = JSON.parse(localStorage.getItem("films_actor_" + actor)) || [];
    let list = films.length
      ? films
      : [{title: `${actor} filmjei (dem√≥)`, url: "https://www.imdb.com/find/?q=" + encodeURIComponent(actor), uj:false}];
    showFilmList(actor + " filmjei", list);
    closeActorsList();
  }

  // ==== 8.4 ADMIN FELT√ñLT≈ê ====
  function openAdminUpload() {
    if (!localStorage.getItem("filmek_anyunak_access")) { showPinOverlay(); return; }
    document.getElementById("adminOverlay").style.display = "";
    document.getElementById("adminPinInput").value = "";
    document.getElementById("adminPinError").textContent = "";
    document.getElementById("adminUploadSection").style.display = "none";
    document.getElementById("uploadSuccess").textContent = "";
  }
  function checkAdminPin() {
    const pin = document.getElementById("adminPinInput").value.trim();
    if (!pin) {
      document.getElementById("adminPinError").textContent = "K√©rlek, add meg a PIN k√≥dot!";
      document.getElementById("adminUploadSection").style.display = "none";
      return;
    }
    if (pin === ADMIN_PIN) {
      document.getElementById("adminPinError").textContent = "";
      document.getElementById("adminUploadSection").style.display = "";
    } else {
      document.getElementById("adminPinError").textContent = "Hib√°s admin PIN!";
      document.getElementById("adminUploadSection").style.display = "none";
    }
  }
  function uploadFilm() {
    const cat = document.getElementById("uploadCategory").value;
    const title = document.getElementById("uploadFilmTitle").value.trim();
    const url = document.getElementById("uploadFilmUrl").value.trim();
    const msgDiv = document.getElementById("uploadSuccess");

    if (!title || !url) {
      msgDiv.textContent = "Adj meg c√≠met √©s linket!";
      msgDiv.style.color = "#b3071b";
      return;
    }
    let stored = localStorage.getItem("cat_" + cat) || "[]";
    let list = JSON.parse(stored);

    if (list.some(f => f.title === title && f.url === url)) {
      msgDiv.textContent = "Ez a film m√°r fel van t√∂ltve!";
      msgDiv.style.color = "#b3071b";
      return;
    }

    list.push({title, url, uj:true});
    localStorage.setItem("cat_" + cat, JSON.stringify(list));
    msgDiv.textContent = "Film mentve!";
    msgDiv.style.color = "#0c9b00";
    document.getElementById("uploadFilmTitle").value = "";
    document.getElementById("uploadFilmUrl").value = "";
  }

  // ==== 8.5 BILLENTY≈∞ FIGYEL√âS ====
  document.addEventListener("keydown", function(e){
    if(e.key==="Escape"){
      document.getElementById("filmListOverlay").style.display="none";
      document.getElementById("actorsOverlay").style.display="none";
      document.getElementById("pinOverlay").style.display="none";
      document.getElementById("adminOverlay").style.display="none";
    }
  });
</script>
