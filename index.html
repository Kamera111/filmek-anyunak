  <!-- ===== [SZAKASZ 7] SCRIPT – START ===== -->
  <script>
    const CORRECT_PIN = "195400";
    const gate = document.getElementById('gate');
    const app  = document.getElementById('app');
    const pinInput = document.getElementById('pin');
    const btnPinOk = document.getElementById('btnPinOk');
    const btnLogout = document.getElementById('btnLogout');
    const view = document.getElementById('view');
    const LOG_KEY = 'fa_logged_in';

    // ha már belépett ezen az eszközön
    if(localStorage.getItem(LOG_KEY)==='true'){ showApp(); }

    function showApp(){ gate.hidden=true; app.hidden=false; }
    function showGate(){ gate.hidden=false; app.hidden=true; }

    btnPinOk?.addEventListener('click', tryLogin);
    pinInput?.addEventListener('keyup', e=>{ if(e.key==='Enter') tryLogin(); });

    function tryLogin(){
      if(pinInput.value.trim()===CORRECT_PIN){
        localStorage.setItem(LOG_KEY,'true');
        showApp();
      } else {
        alert("Hibás PIN! Tipp: 195400");
      }
    }

    // === JAVÍTVA ===
    btnLogout?.addEventListener('click', ()=>{
      localStorage.removeItem(LOG_KEY);  // törli a belépés jelzést
      location.reload();                 // újratölti az oldalt -> újra PIN-t kér
    });

    const catTexts = {
      'krimi':'Krimi kategória (hamarosan).',
      'thriller':'Thriller kategória.',
      'akcio':'Akció kategória.',
      'elo-thriller':'ÉLŐ Thriller TV – stream.',
      'elo-akcio':'ÉLŐ Akció TV – stream.',
      'elo-vigjatek':'ÉLŐ vígjáték TV – stream.',
      'thriller-2':'Thriller (alsó sor).',
      'akcio-2':'Akció (alsó sor).'
    };
    document.querySelectorAll('.cat[data-cat]')?.forEach(b=>b.addEventListener('click',()=>{
      view.innerHTML=`<div style="border:1px solid rgba(255,255,255,.08);background:#0f172a;border-radius:16px;padding:18px 16px">${catTexts[b.dataset.cat]??''}</div>`;
    }));
  </script>
  <!-- ===== [SZAKASZ 7] SCRIPT – END ===== -->
