<!doctype html>
<html lang="hu">
<head>
  <!-- ===== [SZAKASZ 1] HEAD + META ‚Äì START ===== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
  <title>Filmek Anyunak</title>
  <meta name="description" content="Filmek Anyunak ‚Äì egyszer≈±, gyors, szeretettel." />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eüé¨%3C/text%3E%3C/svg%3E">
  <!-- ===== [SZAKASZ 1] HEAD + META ‚Äì END ===== -->

  <!-- ===== [SZAKASZ 2] ST√çLUSOK ‚Äì START ===== -->
  <style>
    :root{
      --bg:#0b1324; --panel:#0f172a; --txt:#e5e7eb;
      --muted:#94a3b8; --accent:#22d3ee; --radius:20px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--txt);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .wrap{max-width:1200px;margin:0 auto;padding:20px}
    .sticky{position:sticky;top:0;z-index:10;background:linear-gradient(180deg, rgba(11,19,36,.95), rgba(11,19,36,.78) 70%, rgba(11,19,36,0));backdrop-filter: blur(6px);margin:-20px -20px 16px -20px;padding:16px 20px 8px 20px;border-bottom:1px solid rgba(255,255,255,.04)}
    header{display:flex;align-items:center;gap:12px}
    .title{font-size:clamp(22px,3vw,34px);font-weight:800;letter-spacing:.4px}
    .btn{background:#111827;color:var(--txt);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:10px 14px;cursor:pointer}

    #catBar{display:flex;flex-direction:column;gap:20px;margin-top:6px}
    .cats-row{display:grid;gap:20px;grid-template-columns:repeat(12,1fr)}
    .cats-row>.cat,.cats-row>a.cat{grid-column:span 4}
    .cat{display:flex;align-items:center;justify-content:center;text-align:center;background:#0f172a;border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);padding:24px 18px;min-height:96px;color:var(--txt);font-size:clamp(20px,2.2vw,28px);font-weight:800;letter-spacing:.3px;cursor:pointer;text-decoration:none}
    .live strong{color:var(--accent)}
    footer{color:var(--muted);text-align:center;margin:28px 0 12px 0;font-size:14px}
    @media (max-width:960px){.cats-row>.cat,.cats-row>a.cat{grid-column:span 6}}
    @media (max-width:560px){.cats-row>.cat,.cats-row>a.cat{grid-column:span 12}.cat{min-height:84px}}

    /* ===== PIN bel√©p≈ë (gate) ===== */
    .gate{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(4,7,13,.9);backdrop-filter:blur(4px);z-index:9999}
    .pinbox{background:#0f172a;border:1px solid rgba(255,255,255,.08);border-radius:18px;padding:24px 20px;max-width:360px;width:92%}
    .pinbox h2{margin:0 0 14px 0;font-size:22px}
    .input{width:100%;font-size:22px;border-radius:12px;border:1px solid rgba(255,255,255,.18);background:#0b1222;color:var(--txt);padding:12px 14px}
    .hint{color:var(--muted);font-size:14px;margin-top:8px}
    .row{display:flex;gap:10px;margin-top:12px}
  </style>
  <!-- ===== [SZAKASZ 2] ST√çLUSOK ‚Äì END ===== -->
</head>

<body>
  <!-- ===== [SZAKASZ 3] PIN BEL√âP≈ê ‚Äì START ===== -->
  <div id="gate" class="gate">
    <div class="pinbox">
      <h2>Bel√©p√©s</h2>
      <label for="pin">Vend√©g PIN:</label>
      <input id="pin" class="input" type="tel" inputmode="numeric" placeholder="√çrd be: 195400" />
      <div class="row"><button id="btnPinOk" class="btn" style="flex:1">Bel√©p√©s</button></div>
      <div class="hint">Els≈ë sikeres bel√©p√©s ut√°n ezen a k√©sz√ºl√©ken nem kell √∫jra be√≠rni.</div>
    </div>
  </div>
  <!-- ===== [SZAKASZ 3] PIN BEL√âP≈ê ‚Äì END ===== -->

  <!-- ===== [SZAKASZ 4] APP ‚Äì START ===== -->
  <div class="wrap" id="app" hidden>
    <div class="sticky">
      <header>
        <div class="title">Filmek Anyunak</div>
        <button id="btnLogout" class="btn" style="margin-left:auto">Kijelentkez√©s</button>
      </header>
    </div>

    <div id="catBar">
      <!-- SOR 1 -->
      <div class="cats-row">
        <button class="cat" data-cat="krimi">Krimi</button>
        <button class="cat" data-cat="thriller">Thriller</button>
        <button class="cat" data-cat="akcio">Akci√≥</button>
      </div>
      <!-- SOR 2 -->
      <div class="cats-row">
        <button class="cat live" data-cat="elo-thriller"><strong>√âL≈ê</strong> Thriller TV</button>
        <button class="cat live" data-cat="elo-akcio"><strong>√âL≈ê</strong> Akci√≥ TV</button>
        <button class="cat live" data-cat="elo-vigjatek"><strong>√âL≈ê</strong> v√≠gj√°t√©k TV</button>
      </div>
      <!-- SOR 3 -->
      <div class="cats-row">
        <a class="cat live" href="https://player.telekomtvgo.hu/player/live?channelNumber=13" target="_blank"><strong>√âL≈ê</strong> Mozi +TV</a>
        <button class="cat" data-cat="thriller-2">Thriller</button>
        <button class="cat" data-cat="akcio-2">Akci√≥</button>
      </div>
    </div>

    <div id="view" style="margin-top:22px"></div>
    <footer>¬© Filmek Anyunak</footer>
  </div>
  <!-- ===== [SZAKASZ 4] APP ‚Äì END ===== -->

  <!-- ===== [SZAKASZ 5] SCRIPT ‚Äì START ===== -->
  <script>
    const CORRECT_PIN = "195400";
    const gate = document.getElementById('gate');
    const app  = document.getElementById('app');
    const pinInput = document.getElementById('pin');
    const btnPinOk = document.getElementById('btnPinOk');
    const btnLogout = document.getElementById('btnLogout');
    const view = document.getElementById('view');
    const LOG_KEY = 'fa_logged_in';

    function showApp(){ if(gate) gate.hidden = true; if(app) app.hidden = false; }
    function showGate(){ if(gate) gate.hidden = false; if(app) app.hidden = true; }

    // Ha m√°r be volt l√©pve ezen az eszk√∂z√∂n
    if(localStorage.getItem(LOG_KEY)==='true'){ showApp(); } else { showGate(); }

    btnPinOk?.addEventListener('click', tryLogin);
    pinInput?.addEventListener('keyup', e=>{ if(e.key==='Enter') tryLogin(); });

    function tryLogin(){
      if(pinInput.value.trim()===CORRECT_PIN){
        localStorage.setItem(LOG_KEY,'true');
        showApp();
      } else {
        alert("Hib√°s PIN! Tipp: 195400");
      }
    }

    // Kijelentkez√©s ‚Äì t√∂rli a bel√©p√©st ezen az eszk√∂z√∂n √©s √∫jrat√∂lt
    btnLogout?.addEventListener('click', ()=>{
      localStorage.removeItem(LOG_KEY);
      location.reload();
    });

    const catTexts = {
      'krimi':'Krimi kateg√≥ria (hamarosan).',
      'thriller':'Thriller kateg√≥ria.',
      'akcio':'Akci√≥ kateg√≥ria.',
      'elo-thriller':'√âL≈ê Thriller TV ‚Äì stream.',
      'elo-akcio':'√âL≈ê Akci√≥ TV ‚Äì stream.',
      'elo-vigjatek':'√âL≈ê v√≠gj√°t√©k TV ‚Äì stream.',
      'thriller-2':'Thriller (als√≥ sor).',
      'akcio-2':'Akci√≥ (als√≥ sor).'
    };
    document.querySelectorAll('.cat[data-cat]')?.forEach(b=>b.addEventListener('click',()=>{
      view.innerHTML=`<div style="border:1px solid rgba(255,255,255,.08);background:#0f172a;border-radius:16px;padding:18px 16px">${catTexts[b.dataset.cat]??''}</div>`;
    }));
  </script>
  <!-- ===== [SZAKASZ 5] SCRIPT ‚Äì END ===== -->
</body>
</html>
