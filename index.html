<!-- 1. RÉSZ: HTML FEJLÉC, ALAPOK -->
<!DOCTYPE html> <!-- Dokumentum típusa: HTML5 -->
<html lang="hu"> <!-- Oldal nyelve: magyar -->
<head>
  <meta charset="UTF-8"> <!-- Karakterkódolás: ékezetekhez fontos -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Mobilbarát nézet -->
  <title>Filmek Anyunak</title> <!-- Böngésző címsorban megjelenő cím -->
</head>
<!-- 2. RÉSZ: ALAP CSS, STÍLUSOK, MOBIL DIZÁJN -->
<style>
<!-- 2. RÉSZ: ALAP CSS, STÍLUSOK, MOBIL DIZÁJN -->
<style>
  /* ========================================================= */
  /* == 2.1 Alap háttér, szín == */
  /* ========================================================= */
  body {
    background: #11222a;
    color: #21e9fc;
    font-family: 'Segoe UI', Arial, sans-serif;
    font-size: 16px;
    margin: 0;
    min-height: 100vh;
  }
  /* ===== 2.1 VÉGE ===== */

  /* ========================================================= */
  /* == 2.2 Főcím == */
  /* ========================================================= */
  h1, .main-title {
    color: #21e9fc;
    font-size: 2.1rem;
    margin: 32px 0 28px 0;
    text-align: center;
    font-weight: bold;
    text-shadow: 0 2px 12px #00101880;
  }
  /* ===== 2.2 VÉGE ===== */

  /* ========================================================= */
  /* == 2.3 Fő gombok (kategóriák) == */
  /* ========================================================= */
  .menu-btn, .main-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.13rem;
    font-weight: bold;
    color: #27e9ff;
    background: #11242e;
    border: none;
    border-radius: 18px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.15);
    margin: 8px 6px;
    cursor: pointer;
    padding: 8px 0;
    width: 100%;
    max-width: 270px;
    min-height: 36px;
  }
  .menu-btn.selected, .main-btn.selected,
  .menu-btn:active, .main-btn:active {
    background: #27e9ff;
    color: #11242e;
  }
  .menu-btn:focus, .main-btn:focus {
    outline: 2px solid #21e9fc;
  }
  /* ===== 2.3 VÉGE ===== */

  /* ========================================================= */
  /* == 2.4 Badge (új film jelzés) == */
  /* ========================================================= */
  .badge {
    background: #ee3232;
    color: #fff;
    font-weight: bold;
    font-size: 1rem;
    padding: 1px 7px;
    border-radius: 14px;
    margin-left: 10px;
    vertical-align: middle;
    display: inline-block;
  }
  /* ===== 2.4 VÉGE ===== */

  /* ========================================================= */
  /* == 2.5 Fő gombok rács-elrendezés (menu-grid) == */
  /* ========================================================= */
  .menu-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 12px;
    margin: 0 auto 18px auto;
    max-width: 620px;
    padding: 0 12px;
  }
  /* ===== 2.5 VÉGE ===== */

  /* ========================================================= */
  /* == 2.6 Film lista overlay (popup) == */
  /* ========================================================= */
  .film-list-overlay {
    position: fixed;
    z-index: 100;
    top: 0; left: 0; right: 0; bottom: 0;
    background: #000b;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .film-list-box {
    background: #182933;
    border-radius: 16px;
    padding: 20px 12px 14px 12px;
    min-width: 220px;
    max-width: 96vw;
    box-shadow: 0 4px 24px #000b;
    text-align: center;
  }
  .film-list-title {
    color: #21e9fc;
    font-size: 1.12rem;
    font-weight: bold;
    margin-bottom: 12px;
  }
  /* ===== 2.6 VÉGE ===== */

  /* ========================================================= */
  /* == 2.7 Film lista felsorolás == */
  /* ========================================================= */
  .film-list {
    padding: 0;
    margin: 0;
    list-style: none;
    max-height: 340px;
    overflow-y: auto;
  }
  .film-list-item {
    margin: 0;
    border-bottom: 1px solid #202e38;
    padding: 7px 0;
  }
  .film-list-item:last-child { border-bottom: none; }
  .film-list-item a {
    color: #27e9ff;
    text-decoration: none;
    font-size: 0.98rem;
    transition: color .2s;
  }
  .film-list-item a:hover {
    color: #21e9fc;
  }
  /* ===== 2.7 VÉGE ===== */

  /* ========================================================= */
  /* == 2.8 PIN/ADMIN/SZÍNÉSZ overlay stílusok == */
  /* ========================================================= */
  .pin-overlay, .admin-overlay, .actors-overlay {
    position: fixed;
    z-index: 200;
    top: 0; left: 0; right: 0; bottom: 0;
    background: #000d;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .pin-box, .admin-box, .actors-box {
    background: #fff;
    color: #222;
    border-radius: 22px;
    min-width: 160px;
    max-width: 98vw;
    padding: 14px 9px 10px 9px;
    box-shadow: 0 4px 24px #000c;
    text-align: center;
  }
  .pin-title, .admin-cím, .actors-title {
    font-size: 1.13rem;
    color: #21e9fc;
    margin-bottom: 12px;
    font-weight: bold;
  }
  .pin-input, .admin-input {
    font-size: 1.09rem;
    padding: 7px 14px;
    border-radius: 12px;
    border: 2px solid #27e9ff;
    margin-bottom: 11px;
    width: 82%;
    outline: none;
    text-align: center;
  }
  .pin-input:focus, .admin-input:focus { border-color: #21e9fc; }
  /* ===== 2.8 VÉGE ===== */

  /* ========================================================= */
  /* == 2.9 Színészkártyák modern stílus == */
  /* ========================================================= */
  .actors-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
  }
  .actors-box {
    background: #fff;
    padding: 30px 16px;
    border-radius: 20px;
    max-width: 740px;
    width: 96vw;
    box-shadow: 0 4px 24px rgba(0,0,0,0.33);
    text-align: center;
  }
  .actors-title {
    font-size: 1.3rem;
    font-weight: bold;
    margin-bottom: 18px;
    color: #11222a;
    letter-spacing: 1px;
  }
  .actors-list-row {
    display: flex;
    flex-wrap: wrap;
    gap: 18px;
    justify-content: center;
    max-height: 58vh;
    overflow-y: auto;
    margin-bottom: 20px;
  }
  .actor-card {
    width: 110px;
    text-align: center;
    background: #f8fcff;
    border-radius: 16px;
    box-shadow: 0 2px 8px #bbb3;
    padding: 8px 5px 14px 5px;
    transition: transform .12s;
    cursor: pointer;
  }
  .actor-card:hover {
    transform: translateY(-5px) scale(1.04);
    box-shadow: 0 8px 22px #bdf1fc77;
    background: #e2f3fa;
  }
  .actor-card img {
    width: 74px;
    height: 74px;
    border-radius: 50%;
    object-fit: cover;
    background: #fff;
    box-shadow: 0 2px 8px rgba(0,0,0,0.12);
  }
  .actor-card span {
    display: block;
    margin-top: 8px;
    font-weight: bold;
    font-size: 1rem;
    color: #23708c;
    letter-spacing: .5px;
  }
  .actors-close-btn {
    background: #b3071b;
    color: #fff;
    font-size: 1rem;
    font-weight: bold;
    border: none;
    border-radius: 12px;
    padding: 10px 24px;
    cursor: pointer;
    box-shadow: 0 2px 9px #c14a7c33;
    margin: 0 auto 0 auto;
    display: block;
  }
  .actors-close-btn:hover { background: #930617; }
  /* ===== 2.9 VÉGE ===== */

  /* ========================================================= */
  /* == 2.10 Kilépés/Főoldalra gombok == */
  /* ========================================================= */
  .exit-btn {
    background: #ee3232;
    color: #fff;
    border: none;
    border-radius: 14px;
    padding: 10px 0;
    font-size: 1.09rem;
    margin: 24px auto 11px auto;
    display: block;
    max-width: 340px;
    width: 90vw;
    cursor: pointer;
    font-weight: bold;
    transition: background .13s;
  }
  .exit-btn:hover { background: #d62c2c; }
  /* ===== 2.10 VÉGE ===== */

  /* ========================================================= */
  /* == 2.11 Mobil dizájn (media query) == */
  /* ========================================================= */
  @media (max-width: 600px) {
    h1, .main-title { font-size: 1.13rem; }
    .menu-btn, .main-btn { font-size: 1rem; padding: 10px 0; }
    .film-list-title { font-size: 0.91rem; }
    .exit-btn { font-size: 0.89rem; padding: 8px 0; }
    .film-list-box, .pin-box, .admin-box, .actors-box { min-width: 80px; }
  }
  /* ===== 2.11 VÉGE ===== */
</style>

<!-- 2. RÉSZ: ALAP CSS, STÍLUSOK, MOBIL DIZÁJN -->
<style>
  /* ========================================================= */
  /* == 2.1 Alap háttér, szín == */
  /* ========================================================= */
  body {
    background: #11222a;
    color: #21e9fc;
    font-family: 'Segoe UI', Arial, sans-serif;
    font-size: 16px;
    margin: 0;
    min-height: 100vh;
  }
  /* ===== 2.1 VÉGE ===== */

  /* ========================================================= */
  /* == 2.2 Főcím == */
  /* ========================================================= */
  h1, .main-title {
    color: #21e9fc;
    font-size: 2.1rem;
    margin: 32px 0 28px 0;
    text-align: center;
    font-weight: bold;
    text-shadow: 0 2px 12px #00101880;
  }
  /* ===== 2.2 VÉGE ===== */

  /* ========================================================= */
  /* == 2.3 Fő gombok (kategóriák) == */
  /* ========================================================= */
  .menu-btn, .main-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.13rem;
    font-weight: bold;
    color: #27e9ff;
    background: #11242e;
    border: none;
    border-radius: 18px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.15);
    margin: 8px 6px;
    cursor: pointer;
    padding: 8px 0;
    width: 100%;
    max-width: 270px;
    min-height: 36px;
  }
  .menu-btn.selected, .main-btn.selected,
  .menu-btn:active, .main-btn:active {
    background: #27e9ff;
    color: #11242e;
  }
  .menu-btn:focus, .main-btn:focus {
    outline: 2px solid #21e9fc;
  }
  /* ===== 2.3 VÉGE ===== */

  /* ========================================================= */
  /* == 2.4 Badge (új film jelzés) == */
  /* ========================================================= */
  .badge {
    background: #ee3232;
    color: #fff;
    font-weight: bold;
    font-size: 1rem;
    padding: 1px 7px;
    border-radius: 14px;
    margin-left: 10px;
    vertical-align: middle;
    display: inline-block;
  }
  /* ===== 2.4 VÉGE ===== */

  /* ========================================================= */
  /* == 2.5 Fő gombok rács-elrendezés (menu-grid) == */
  /* ========================================================= */
  .menu-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 12px;
    margin: 0 auto 18px auto;
    max-width: 620px;
    padding: 0 12px;
  }
  /* ===== 2.5 VÉGE ===== */

  /* ========================================================= */
  /* == 2.6 Film lista overlay (popup) == */
  /* ========================================================= */
  .film-list-overlay {
    position: fixed;
    z-index: 100;
    top: 0; left: 0; right: 0; bottom: 0;
    background: #000b;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .film-list-box {
    background: #182933;
    border-radius: 16px;
    padding: 20px 12px 14px 12px;
    min-width: 220px;
    max-width: 96vw;
    box-shadow: 0 4px 24px #000b;
    text-align: center;
  }
  .film-list-title {
    color: #21e9fc;
    font-size: 1.12rem;
    font-weight: bold;
    margin-bottom: 12px;
  }
  /* ===== 2.6 VÉGE ===== */

  /* ========================================================= */
  /* == 2.7 Film lista felsorolás == */
  /* ========================================================= */
  .film-list {
    padding: 0;
    margin: 0;
    list-style: none;
    max-height: 340px;
    overflow-y: auto;
  }
  .film-list-item {
    margin: 0;
    border-bottom: 1px solid #202e38;
    padding: 7px 0;
  }
  .film-list-item:last-child { border-bottom: none; }
  .film-list-item a {
    color: #27e9ff;
    text-decoration: none;
    font-size: 0.98rem;
    transition: color .2s;
  }
  .film-list-item a:hover {
    color: #21e9fc;
  }
  /* ===== 2.7 VÉGE ===== */

  /* ========================================================= */
  /* == 2.8 PIN/ADMIN/SZÍNÉSZ overlay stílusok == */
  /* ========================================================= */
  .pin-overlay, .admin-overlay, .actors-overlay {
    position: fixed;
    z-index: 200;
    top: 0; left: 0; right: 0; bottom: 0;
    background: #000d;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .pin-box, .admin-box, .actors-box {
    background: #fff;
    color: #222;
    border-radius: 22px;
    min-width: 160px;
    max-width: 98vw;
    padding: 14px 9px 10px 9px;
    box-shadow: 0 4px 24px #000c;
    text-align: center;
  }
  .pin-title, .admin-cím, .actors-title {
    font-size: 1.13rem;
    color: #21e9fc;
    margin-bottom: 12px;
    font-weight: bold;
  }
  .pin-input, .admin-input {
    font-size: 1.09rem;
    padding: 7px 14px;
    border-radius: 12px;
    border: 2px solid #27e9ff;
    margin-bottom: 11px;
    width: 82%;
    outline: none;
    text-align: center;
  }
  .pin-input:focus, .admin-input:focus { border-color: #21e9fc; }
  /* ===== 2.8 VÉGE ===== */

  /* ========================================================= */
  /* == 2.9 Színészkártyák modern stílus == */
  /* ========================================================= */
  .actors-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
  }
  .actors-box {
    background: #fff;
    padding: 30px 16px;
    border-radius: 20px;
    max-width: 740px;
    width: 96vw;
    box-shadow: 0 4px 24px rgba(0,0,0,0.33);
    text-align: center;
  }
  .actors-title {
    font-size: 1.3rem;
    font-weight: bold;
    margin-bottom: 18px;
    color: #11222a;
    letter-spacing: 1px;
  }
  .actors-list-row {
    display: flex;
    flex-wrap: wrap;
    gap: 18px;
    justify-content: center;
    max-height: 58vh;
    overflow-y: auto;
    margin-bottom: 20px;
  }
  .actor-card {
    width: 110px;
    text-align: center;
    background: #f8fcff;
    border-radius: 16px;
    box-shadow: 0 2px 8px #bbb3;
    padding: 8px 5px 14px 5px;
    transition: transform .12s;
    cursor: pointer;
  }
  .actor-card:hover {
    transform: translateY(-5px) scale(1.04);
    box-shadow: 0 8px 22px #bdf1fc77;
    background: #e2f3fa;
  }
  .actor-card img {
    width: 74px;
    height: 74px;
    border-radius: 50%;
    object-fit: cover;
    background: #fff;
    box-shadow: 0 2px 8px rgba(0,0,0,0.12);
  }
  .actor-card span {
    display: block;
    margin-top: 8px;
    font-weight: bold;
    font-size: 1rem;
    color: #23708c;
    letter-spacing: .5px;
  }
  .actors-close-btn {
    background: #b3071b;
    color: #fff;
    font-size: 1rem;
    font-weight: bold;
    border: none;
    border-radius: 12px;
    padding: 10px 24px;
    cursor: pointer;
    box-shadow: 0 2px 9px #c14a7c33;
    margin: 0 auto 0 auto;
    display: block;
  }
  .actors-close-btn:hover { background: #930617; }
  /* ===== 2.9 VÉGE ===== */

  /* ========================================================= */
  /* == 2.10 Kilépés/Főoldalra gombok == */
  /* ========================================================= */
  .exit-btn {
    background: #ee3232;
    color: #fff;
    border: none;
    border-radius: 14px;
    padding: 10px 0;
    font-size: 1.09rem;
    margin: 24px auto 11px auto;
    display: block;
    max-width: 340px;
    width: 90vw;
    cursor: pointer;
    font-weight: bold;
    transition: background .13s;
  }
  .exit-btn:hover { background: #d62c2c; }
  /* ===== 2.10 VÉGE ===== */

  /* ========================================================= */
  /* == 2.11 Mobil dizájn (media query) == */
  /* ========================================================= */
  @media (max-width: 600px) {
    h1, .main-title { font-size: 1.13rem; }
    .menu-btn, .main-btn { font-size: 1rem; padding: 10px 0; }
    .film-list-title { font-size: 0.91rem; }
    .exit-btn { font-size: 0.89rem; padding: 8px 0; }
    .film-list-box, .pin-box, .admin-box, .actors-box { min-width: 80px; }
  }
  /* ===== 2.11 VÉGE ===== */
</style>
<!-- ========================================================= -->
<!-- == 3. RÉSZ: FŐ GOMBOK, KATEGÓRIÁK, KILÉPÉS GOMB         == -->
<!-- ========================================================= -->
<h1>Filmek Anyunak</h1>
<div class="menu-grid">
  <button class="menu-btn" onclick="openCategory('krimi')" aria-label="Krimi kategória">Krimi</button>
  <button class="menu-btn" onclick="openCategory('akcio')" aria-label="Akció kategória">Akció</button>
  <button class="menu-btn" onclick="openCategory('thriller')" aria-label="Thriller kategória">Thriller</button>
  <button class="menu-btn" onclick="openCategory('kaland')" aria-label="Kaland kategória">Kaland</button>
  <button class="menu-btn" onclick="openCategory('vigjatek')" aria-label="Vígjáték kategória">Vígjáték</button>
  <button class="menu-btn" onclick="openCategory('sorozatok')" aria-label="Sorozatok kategória">Sorozatok</button>
  <button class="menu-btn" onclick="openCategory('f')" aria-label="Admin (F) kategória">F</button>
  <button class="menu-btn" onclick="openCategory('ujfilmek')" aria-label="Új filmek kategória">Új filmek</button>
  <button class="menu-btn" onclick="openCategory('thrillertv')" aria-label="Thriller TV">Thriller TV</button>
  <button class="menu-btn" onclick="openCategory('topfilmek')" aria-label="Top Filmek">Top Filmek</button>
  <button class="menu-btn" onclick="openCategory('akciotv')" aria-label="Akció TV">Akció TV</button>
  <button class="menu-btn" onclick="openCategory('vigjatektv')" aria-label="Vígjáték TV">Vígjáték TV</button>
  <button class="menu-btn" onclick="openCategory('beszelgetes')" aria-label="Beszélgetés">Beszélgetés</button>
  <button class="menu-btn" onclick="openActorsList()" aria-label="Színészek szerint">Színészek szerint</button>
</div>
<button class="exit-btn" onclick="logout()" aria-label="Kilépés mindenből">Kilépés mindenből</button>
<!-- ===== 3. RÉSZ VÉGE ===== -->

<!-- ========================================================= -->
<!-- == 4. RÉSZ: PIN OVERLAY                                 == -->
<!-- ========================================================= -->
<div id="pinOverlay" class="pin-overlay" style="display:none;">
  <div class="pin-box">
    <div class="pin-title">Írd be a PIN-kódot a belépéshez</div>
    <label for="pinInput" style="position:absolute; left:-9999px;">PIN-kód bevitel</label>
    <input
      id="pinInput"
      class="pin-input"
      type="password"
      maxlength="8"
      autocomplete="off"
      autofocus
      aria-label="PIN-kód bevitel"
      onkeydown="if(event.key==='Enter'){validatePin();}"
    >
    <div id="pinError" class="pin-error" role="alert"></div>
    <button type="button" class="exit-btn" onclick="hidePinOverlay()" style="margin-top:18px;">Kilépés</button>
  </div>
</div>
<!-- ===== 4. RÉSZ VÉGE ===== -->

<!-- ========================================================= -->
<!-- == 5. RÉSZ: FILMLISTA MODAL OVERLAY                      == -->
<!-- ========================================================= -->
<div id="filmListOverlay" class="film-list-overlay" style="display:none;">
  <div class="film-list-box">
    <h2 id="filmListTitle" class="film-list-title"></h2>
    <div id="filmListBody" class="film-list"></div>
    <button class="film-list-close" onclick="closeFilmList()" aria-label="Bezárás">Bezárás</button>
    <button class="exit-btn" onclick="closeFilmListAndGoHome()" aria-label="Vissza a főoldalra" style="margin-top:16px;">Vissza a főoldalra</button>
  </div>
</div>
<!-- ===== 5. RÉSZ VÉGE ===== -->

<!-- ========================================================= -->
<!-- == 6. RÉSZ: SZÍNÉSZEK OVERLAY, KÉPEK (KÁRTYA STÍLUS)    == -->
<!-- ========================================================= -->
<div id="actorsOverlay" class="actors-overlay" style="display:none;">
  <div class="actors-box">
    <div class="actors-title">Színészek szerint</div>
    <div class="actors-list-row" id="actorsList"></div>
    <button class="actors-close-btn" onclick="closeActorsList()" aria-label="Színészek listájának bezárása">Bezárás</button>
  </div>
</div>
<!-- ===== 6. RÉSZ VÉGE ===== -->

<!-- ========================================================= -->
<!-- == 7. RÉSZ: ADMIN FELTÖLTŐ OVERLAY + FUNKCIÓK           == -->
<!-- ========================================================= -->
<div id="adminOverlay" class="pin-overlay" style="display:none;">
  <div class="pin-box">
    <div class="pin-title" style="color:#12dbff;font-weight:bold;font-size:2rem;margin-bottom:15px;">LÉPJ KI INNEN!</div>
    <input id="adminPinInput" class="pin-input" type="password" maxlength="8" autocomplete="off" placeholder="••••" style="margin-bottom:18px;">
    <div style="display:flex;gap:18px;margin-bottom:16px;">
      <button onclick="checkAdminPin()" style="background:#13e0ff;color:#222;font-size:2rem;padding:5px 21px;font-weight:bold;border-radius:14px;border:none;cursor:pointer;">B</button>
      <button onclick="closeAdminOverlayAndGoHome()" style="background:#ee3232;color:#fff;font-size:1.38rem;padding:8px 32px;font-weight:bold;border-radius:16px;border:none;cursor:pointer;">Vissza a Főoldalra</button>
    </div>
    <div id="adminPinError" class="pin-error" style="margin-bottom:12px;"></div>
    <div id="adminUploadSection" style="margin-top:8px;display:none;">
      <select id="uploadCategory" style="padding:6px;font-size:1rem;margin-bottom:12px;width:96%;">
        <option value="krimi">Krimi</option>
        <option value="akcio">Akció</option>
        <option value="thriller">Thriller</option>
        <option value="kaland">Kaland</option>
        <option value="vigjatek">Vígjáték</option>
        <option value="sorozatok">Sorozatok</option>
        <option value="ujfilmek">Új filmek</option>
        <option value="thrillertv">Thriller TV</option>
        <option value="topfilmek">Top Filmek</option>
        <option value="akciotv">Akció TV</option>
        <option value="vigjatektv">Vígjáték TV</option>
      </select>
      <input id="uploadFilmTitle" style="padding:7px;font-size:1rem;width:96%;margin-bottom:8px;" placeholder="Film címe"><br>
      <input id="uploadFilmUrl" style="padding:7px;font-size:1rem;width:96%;" placeholder="YouTube/Videa link"><br>
      <button onclick="uploadFilm()" style="margin:14px 0 0 0;padding:10px 36px;border-radius:14px;background:#13e0ff;color:#222;border:none;font-weight:bold;font-size:1.25rem;cursor:pointer;width:96%;">Mentés</button>
      <div id="uploadSuccess" style="margin-top:15px;color:#b3071b;font-size:1.05rem;"></div>
    </div>
  </div>
</div>
<!-- ===== 7. RÉSZ VÉGE ===== -->

<!-- ======= CSS (tedd a 2. rész végére, ha még nincs!) ======= -->
<style>
#adminOverlay { z-index: 300; }
#adminUploadSection select,
#adminUploadSection input {
  border: 1.7px solid #21e9fc;
  border-radius: 10px;
  margin-bottom: 7px;
  width: 92%;
  outline: none;
}
#adminUploadSection input:focus,
#adminUploadSection select:focus {
  border-color: #24eaff;
  background: #f2fcff;
}
#adminUploadSection button {
  transition: background 0.18s;
}
#adminUploadSection button:hover {
  background: #1dc0cc;
}
</style>

<!-- ======= JAVASCRIPT (a fő <script> blokkba, pl. az oldal végére!) ======= -->
<script>
// =========================================================
// == ADMIN FELTÖLTŐ OVERLAY FUNKCIÓK                      ==
// =========================================================

// 1. Admin PIN validáció és feltöltő szekció nyitása
function checkAdminPin() {
  const correctPin = "2014"; // Itt állítsd be az admin PIN-t!
  const input = document.getElementById("adminPinInput").value;
  const errorDiv = document.getElementById("adminPinError");
  const uploadSection = document.getElementById("adminUploadSection");

  if (input === "") {
    errorDiv.textContent = "Kérlek, add meg a PIN kódot!";
    errorDiv.style.color = "#b3071b";
    uploadSection.style.display = "none";
    return;
  }

  if (input === correctPin) {
    errorDiv.textContent = "";
    uploadSection.style.display = "block";
    setTimeout(() => document.getElementById("uploadFilmTitle").focus(), 50);
  } else {
    errorDiv.textContent = "Hibás PIN kód!";
    errorDiv.style.color = "#b3071b";
    uploadSection.style.display = "none";
    // Animált hiba: villogás
    errorDiv.animate([
      { color: "#b3071b" },
      { color: "#fff" },
      { color: "#b3071b" }
    ], { duration: 400, iterations: 2 });
  }
}

// 2. Film feltöltés kezelése
function uploadFilm() {
  const category = document.getElementById("uploadCategory").value;
  const title = document.getElementById("uploadFilmTitle").value.trim();
  const url = document.getElementById("uploadFilmUrl").value.trim();
  const successDiv = document.getElementById("uploadSuccess");

  if (!title || !url) {
    successDiv.style.color = "#b3071b";
    successDiv.textContent = "Kérlek, töltsd ki a film címét és linkjét!";
    return;
  }

  // Helyi tárolásba mentés (localStorage)
  let key = "cat_" + category;
  let films = [];
  try {
    films = JSON.parse(localStorage.getItem(key)) || [];
  } catch {}
  films.unshift({ title: title, url: url, uj: true }); // újként jelölés
  localStorage.setItem(key, JSON.stringify(films));
  successDiv.style.color = "#0c9b00";
  successDiv.textContent = `Sikeresen mentve: "${title}" (${category})`;

  // Mezők törlése
  document.getElementById("uploadFilmTitle").value = "";
  document.getElementById("uploadFilmUrl").value = "";

  // Gombon jelzés, hogy van új (badge frissítés)
  if (typeof setBadge === 'function') setBadge(category, films.filter(f=>f.uj).length);
} 
</script>
// =========================================================
// == 8. JAVASCRIPT FŐ FUNKCIÓK – FILMEK ANYUNAK APP      ==
// =========================================================

// ==== 8.1 PIN BELÉPÉS (Csak egyszer, oldal betöltésekor) ====

// Felhasználói és admin PIN
const USER_PIN = "1954";
const ADMIN_PIN = "2014";

// PIN overlay megjelenítése
function showPinOverlay() {
  document.getElementById("pinOverlay").style.display = "";
  document.getElementById("pinInput").value = "";
  document.getElementById("pinError").textContent = "";
  setTimeout(() => document.getElementById("pinInput").focus(), 200);
}

// PIN overlay bezárása
function hidePinOverlay() {
  document.getElementById("pinOverlay").style.display = "none";
}

// PIN ellenőrzés (csak egyszer, ha nincs access)
function checkPin() {
  const pin = document.getElementById("pinInput").value.trim();
  if (pin === USER_PIN) {
    hidePinOverlay();
    localStorage.setItem("filmek_anyunak_access", "1");
  } else {
    document.getElementById("pinError").textContent = "Hibás PIN!";
  }
}

// Enterre PIN ellenőrzés
document.getElementById("pinInput").addEventListener("keyup", function(e){
  if (e.key === "Enter") checkPin();
  else document.getElementById("pinError").textContent = "";
});

// Kilépés mindenből (access törlése, oldal újratöltés)
function logout() {
  localStorage.removeItem("filmek_anyunak_access");
  location.reload();
}

// ==== 8.2 KATEGÓRIÁK, FILMLISTA (NEM kér PIN-t, csak legelső belépéskor) ====

// Kategória címek
const titleMap = {
  krimi: "Krimi filmek",
  akcio: "Akció filmek",
  thriller: "Thriller filmek",
  kaland: "Kaland filmek",
  vigjatek: "Vígjátékok",
  sorozatok: "Sorozatok",
  ujfilmek: "Új filmek",
  thrillertv: "Thriller TV",
  topfilmek: "Top Filmek",
  akciotv: "Akció TV",
  vigjatektv: "Vígjáték TV",
  beszelgetes: "Beszélgetés",
  f: "Admin feltöltések"
};

// Csak oldalbetöltéskor kér PIN-t, ha nincs access
window.addEventListener("DOMContentLoaded", () => {
  if (!localStorage.getItem("filmek_anyunak_access")) {
    showPinOverlay();
  }
});

// Kategória megnyitás (NEM kér PIN-t soha többé!)
function openCategory(cat) {
  // Admin feltöltés ("F") – csak admin PIN!
  if (cat === "f") {
    openAdminUpload();
    return;
  }
  // Speciális beszélgetés kategória
  if (cat === "beszelgetes") {
    showFilmList("Beszélgetés", [ {title: "ChatGPT", url: "https://chat.openai.com/", uj: false} ]);
    return;
  }
  // Normál film kategória megjelenítése
  let stored = localStorage.getItem("cat_"+cat) || "[]";
  let list = JSON.parse(stored);
  list.sort((a, b) => a.title.localeCompare(b.title));
  showFilmList(titleMap[cat] || cat, list);
  list.forEach(f => f.uj = false);
  localStorage.setItem("cat_" + cat, JSON.stringify(list));
}

// Film lista megjelenítése
function showFilmList(title, list) {
  document.getElementById("filmListOverlay").style.display = "";
  document.getElementById("filmListTitle").textContent = title;
  let html = "";
  if (!list.length) {
    html = `<div>Nincs feltöltött film ebben a kategóriában.</div>`;
  } else {
    html = '<ul class="film-list">';
    list.forEach((film, idx) => {
      html += `
        <li class="film-list-item${film.uj ? ' uj-film' : ''}">
          <a href="${film.url}" target="_blank">${film.title}${film.uj ? ' <span style="color:#d00;font-size:1.2em;">🔥</span>' : ''}</a>
        </li>
      `;
    });
    html += "</ul>";
  }
  document.getElementById("filmListBody").innerHTML = html;
}

// ==== 8.3 SZÍNÉSZEK LISTA, KÉPEK ====

// Példa színész adatbázis (HTTPS képekkel)
const actorsData = [
  { name: "Bruce Willis", img: "https://upload.wikimedia.org/wikipedia/commons/8/82/Bruce_Willis_2018.jpg" },
  { name: "Chuck Norris", img: "https://upload.wikimedia.org/wikipedia/commons/6/6e/Chuck_Norris_May_2015.jpg" },
  { name: "Demi Moore", img: "https://upload.wikimedia.org/wikipedia/commons/e/e7/Demi_Moore_2019.jpg" },
  { name: "Dolph Lundgren", img: "https://upload.wikimedia.org/wikipedia/commons/e/e3/Dolph_Lundgren_2012.jpg" },
  { name: "Harrison Ford", img: "https://upload.wikimedia.org/wikipedia/commons/8/88/Harrison_Ford_2017.jpg" },
  { name: "Jackie Chan", img: "https://upload.wikimedia.org/wikipedia/commons/0/0c/Jackie_Chan_2016.jpg" },
  { name: "Jason Statham", img: "https://upload.wikimedia.org/wikipedia/commons/6/6e/Jason_Statham_2018.jpg" },
  { name: "Jean-Claude Van Damme", img: "https://upload.wikimedia.org/wikipedia/commons/4/47/Jean-Claude_Van_Damme_Cannes_2010.jpg" },
  { name: "Jessica Alba", img: "https://upload.wikimedia.org/wikipedia/commons/7/7e/Jessica_Alba_March_2019.jpg" },
  { name: "Jet Li", img: "https://upload.wikimedia.org/wikipedia/commons/5/57/Jet_Li_2011.jpg" },
  { name: "Lucy Liu", img: "https://upload.wikimedia.org/wikipedia/commons/6/62/Lucy_Liu_2012_Shankbone.jpg" },
  { name: "Mel Gibson", img: "https://upload.wikimedia.org/wikipedia/commons/9/9d/Mel_Gibson_Cannes_2016_2.jpg" },
  { name: "Mickey Rourke", img: "https://upload.wikimedia.org/wikipedia/commons/1/1e/Mickey_Rourke_2008.jpg" },
  { name: "Nicolas Cage", img: "https://upload.wikimedia.org/wikipedia/commons/9/95/Nicolas_Cage_Deauville_2013.jpg" },
  { name: "Nicole Kidman", img: "https://upload.wikimedia.org/wikipedia/commons/9/91/Nicole_Kidman_Cannes_2017_2.jpg" },
  { name: "Patrick Swayze", img: "https://upload.wikimedia.org/wikipedia/commons/8/86/Patrick_Swayze_Cannes_1990.jpg" },
  { name: "Pierre Richard", img: "https://upload.wikimedia.org/wikipedia/commons/f/fe/Pierre_Richard_2012.jpg" },
  { name: "Randy Couture", img: "https://upload.wikimedia.org/wikipedia/commons/8/8e/Randy_Couture.jpg" },
  { name: "Richard Gere", img: "https://upload.wikimedia.org/wikipedia/commons/6/6c/Richard_Gere_2017.jpg" },
  { name: "Russell Crowe", img: "https://upload.wikimedia.org/wikipedia/commons/d/dc/Russell_Crowe_by_Gage_Skidmore_2.jpg" },
  { name: "Sylvester Stallone", img: "https://upload.wikimedia.org/wikipedia/commons/3/32/Sylvester_Stallone_Cannes_2019.jpg" },
  { name: "Terry Crews", img: "https://upload.wikimedia.org/wikipedia/commons/d/d8/Terry_Crews_2017.jpg" },
  { name: "Wentworth Miller", img: "https://upload.wikimedia.org/wikipedia/commons/2/24/Wentworth_Miller_2016.jpg" },
  { name: "Wesley Snipes", img: "https://upload.wikimedia.org/wikipedia/commons/c/c2/Wesley_Snipes_2014.jpg" }
];
actorsData.sort((a, b) => a.name.localeCompare(b.name));

// Színész overlay megnyitása
function openActorsList() {
  document.getElementById("actorsOverlay").style.display = "flex";
  let html = "";
  actorsData.forEach((a) => {
    html += `
      <div class="actor-item" onclick="showActorFilms('${a.name.replace(/'/g,"\\'")}')">
        <img class="actor-img" src="${a.img}" alt="${a.name}">
        <div class="actor-name">${a.name}</div>
      </div>
    `;
  });
  document.getElementById("actorsList").innerHTML = html;
}

// Színész overlay bezárása
function closeActorsList() {
  document.getElementById("actorsOverlay").style.display = "none";
}

// Színészre kattintás – filmjei listája
function showActorFilms(actor) {
  const films = JSON.parse(localStorage.getItem("films_actor_" + actor)) || [];
  let list = films.length
    ? films
    : [{title: `${actor} filmjei (IMDb)`, url: "https://www.imdb.com/find/?q=" + encodeURIComponent(actor), uj:false}];
  showFilmList(actor + " filmjei", list);
  closeActorsList();
}

// ==== 8.4 ADMIN FELTÖLTŐ OVERLAY, FUNKCIÓK ====

// Admin overlay megnyitása (csak bejelentkezett usernek)
function openAdminUpload() {
  if (!localStorage.getItem("filmek_anyunak_access")) { showPinOverlay(); return; }
  document.getElementById("adminOverlay").style.display = "";
  document.getElementById("adminPinInput").value = "";
  document.getElementById("adminPinError").textContent = "";
  document.getElementById("adminUploadSection").style.display = "none";
  document.getElementById("uploadSuccess").textContent = "";
}

// Admin PIN ellenőrzése, feltöltőmező megjelenítése
function checkAdminPin() {
  const pin = document.getElementById("adminPinInput").value.trim();
  if (!pin) {
    document.getElementById("adminPinError").textContent = "Kérlek, add meg a PIN kódot!";
    document.getElementById("adminUploadSection").style.display = "none";
    return;
  }
  if (pin === ADMIN_PIN) {
    document.getElementById("adminPinError").textContent = "";
    document.getElementById("adminUploadSection").style.display = "";
  } else {
    document.getElementById("adminPinError").textContent = "Hibás admin PIN!";
    document.getElementById("adminUploadSection").style.display = "none";
  }
}

// Film feltöltése localStorage-be
function uploadFilm() {
  const cat = document.getElementById("uploadCategory").value;
  const title = document.getElementById("uploadFilmTitle").value.trim();
  const url = document.getElementById("uploadFilmUrl").value.trim();
  const msgDiv = document.getElementById("uploadSuccess");

  if (!title || !url) {
    msgDiv.textContent = "Adj meg címet és linket!";
    msgDiv.style.color = "#b3071b";
    return;
  }
  let stored = localStorage.getItem("cat_" + cat) || "[]";
  let list = JSON.parse(stored);

  // Ugyanaz a film ne szerepeljen kétszer
  if (list.some(f => f.title === title && f.url === url)) {
    msgDiv.textContent = "Ez a film már fel van töltve!";
    msgDiv.style.color = "#b3071b";
    return;
  }

  list.push({title, url, uj:true});
  localStorage.setItem("cat_" + cat, JSON.stringify(list));
  msgDiv.textContent = "Film mentve!";
  msgDiv.style.color = "#0c9b00";
  document.getElementById("uploadFilmTitle").value = "";
  document.getElementById("uploadFilmUrl").value = "";
}

// ==== 8.5 ESC és vissza gombok – minden overlayhez ====

// Minden overlay ESC-ra bezárható
document.addEventListener("keydown", function(e) {
  if (e.key === "Escape") {
    document.getElementById("filmListOverlay").style.display = "none";
    document.getElementById("actorsOverlay").style.display = "none";
    document.getElementById("pinOverlay").style.display = "none";
    document.getElementById("adminOverlay").style.display = "none";
  }
});

// "Vissza a főoldalra" gombok funkciója
function closeFilmListAndGoHome() {
  document.getElementById("filmListOverlay").style.display = "none";
  // plusz főoldali logika, ha kell
}
function closeAdminOverlayAndGoHome() {
  document.getElementById("adminOverlay").style.display = "none";
}
